<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'>
  <br>
  <title>Nutrition Dashboard</title>
  <link rel='stylesheet' href='css/style.css'>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" />
  <script src='https://d3js.org/d3.v5.min.js'></script>
  <script src='main.js'></script>
</head>

<body>
  <div id='wrapper'>
    <h1>Nutrition Dashboard</h1>
    <div class="row"></div>

    <br>

    &nbsp;Food Type:&nbsp;
    <select id='type' onchange="populate(this.id,'item')">
      <option value="">-- Choose --</option>
      <option value='Cheese'>Cheese</option>
      <option value='Salad dressing'>Salad dressing</option>
      <option value='Cereals'>Cereals</option>
      <option value='Fruits'>Fruits</option>
      <option value='Pie'>Pie</option>

    </select>

    &nbsp;Food Item&nbsp;
    <select id='item' onchange='drawA();'>
    </select>

    &nbsp;Nutrient:&nbsp;
    <select id='nutr' onchange='drawC();'>
      <option value="">-- Choose --</option>
      <option value='Protein'>Protein</option>
      <option value='Carbohydrate'>Carbohydrate</option>
      <option value='Lipids'>Lipids</option>
      <option value="Monosaturated Fats">Monosaturated Fats</option>
      <option value="Polysaturated Fats">Polysaturated Fats</option>
      <option value="Saturated Fats">Saturated Fats</option>

      <option value='Zinc'>Zinc</option>
      <option value='Sodium'>Sodium</option>
      <option value="Calcium">Calcium</option>
      <option value="Copper">Copper</option>
      <option value="Iron">Iron</option>
      <option value="Magnesium">Magnesium</option>
      <option value="Phosphorus">Phosphorus</option>
      <option value="Potassium">Potassium</option>

      <option value="Vitamin A - RAE">Vitamin A</option>
      <option value="Vitamin B12">Vitamin B12</option>
      <option value="Vitamin B6">Vitamin B6</option>
      <option value="Vitamin C">Vitamin C</option>
      <option value="Vitamin E">Vitamin E</option>
      <option value="Vitamin K">Vitamin K</option>

      <option value='Alpha Carotene'>Alpha Carotene</option>
      <option value='Beta Carotene'>Beta Carotene</option>
      <option value='Cholesterol'>Cholesterol</option>
      <option value='Fiber'>Fiber</option>
      <option value='Sugar Total'>Sugar</option>


    </select>

    <script>
      var ingredients_data;
      function populate(s1, s2) {
        var options = [];
        var s1 = document.getElementById(s1);
        var s2 = document.getElementById(s2);

        Promise.all([
          d3.csv("data/ingredients_edited.csv")]).then(function (values) {
            console.log("loaded data");
            ingredients_data = values[0];
          })

        s2.innerHTML = "";

        ingredients_data.forEach(d => {
          if (d.Category == s1.value) {
            options.push(d.Description);
          }
        });
        console.log(options);


        for (var op in options) {
          var pair = options[op];
          var newopt = document.createElement('option');

          newopt.value = pair;
          newopt.innerHTML = pair;
          s2.options.add(newopt);
        }

        drawC();

      }

    </script>

    <br />
    <br />
    <br>

    <div class="row">
      <div class="column">
        <svg id='D'>
        </svg>
      </div>
      <div class="column">

      </div>
      <div class="column">
        <div class="row">
          <svg id='A'> </svg>
          <svg id='B'></svg>
        </div>
        <div class="row">
          <svg id='C'> </svg>
          <svg id='E'></svg>
        </div>
      </div>
    </div>

    <div>







    </div>



  </div>
  <br />


  <!-- <svg id='linechart'></svg> -->
  </div>
</body>



</html>